# Benchmarking top-k search on simple document search implementations

## Methodology

The benchmark setup is close to the one used in the ESA 2010 article
of Culpepper, Navarro, Puglisi and Turpin.

Explored dimensions:

  * text type
  * instance size (just adjust the `test_case.config` file for this)
  * index implementations
    - [Sadakane's method](src/doc_list_index_sada.hpp)
    - [Wavelet tree greedy traversal](src/doc_list_index_greedy.hpp)
    - [Wavelet tree quantile probing](src/doc_list_index_qprobing.hpp)
 
## Directory structure
  * [bin](./bin): Contains the executables of the project.
    - `doc_list_index_*` generates and queries and indexes
  * [dic](./dic): Contains dictionaries for integer inputs.
  * [indexes](./indexes): Contains the generated indexes.
  * [results](./results): Contains the results of the experiments.
  * [src](./src): Contains the source code of the benchmark.
  * [visualize](./visualize): Contains a `R`-script which generates
                              a report.

## Test data
  * ENWIKISMLINT was generated by downloading the wikipedia file
    `enwiki-20130805-pages-articles1.xml-p000000010p000010000.bz2`.
    The wiki markup was removed by applying the `WikiExtractor.py`
    program Version 2.5 from Giuesppe Attardi and Antonio
    Fuschetto (Univserity of Pisa).
    In a next step we used `stanford-parser.jar` from the NL group
    at Stanford to tokenize the input. TODO: link and describe
    character based inputs
    

## Prerequisites
  * For the visualization you need the following software:
    - [R][RPJ] with package `tikzDevice`. You can install the
      package by calling 
      `install.packages("filehash", repos="http://cran.r-project.org")`
	  and 
	  `install.packages("tikzDevice", repos="http://R-Forge.R-project.org")`
	  in `R`.
    - Compressors [xz][XZ] and [gzip][GZIP] are used to get
	  compression baselines.

    - [pdflatex][LT] to generate the pdf reports.

## Usage
    TODO
	
## Customization of the benchmark
  The project contains several configuration files:
 
  * [index.config](./index.config): Specify character
       based indexes' ID, sdsl-class and LaTeX-name for the report.
  * [index_int.config](./index_int.config): Specify word
       based indexes' ID, sdsl-class and LaTeX-name for the report. 
  * [test_case.config](./test_case.config): Specify character based collections' 
       ID, path, LaTeX-name for the report, and download URL.
  * [test_case_int.config](./test_case_int.config): Specify word based collections'
       ID, path, LaTeX-name for the report, and download URL.
  * [pattern_length.config](./pattern_length.config): Specify the
       lengths of queried pattern for character based indexes.
  * [pattern_length_int.config](./pattern_length_int.config): Specify
       lengths of queried pattern for word based indexes.

[RPJ]: http://www.r-project.org/ "R"
[LT]: http://www.tug.org/applications/pdftex/ "pdflatex"
[RPJ]: http://www.r-project.org/ "R"
[XZ]: http://tukaani.org/xz/ "XZ Compressor"
[GZIP]: http://www.gnu.org/software/gzip/ "Gzip Compressor"
